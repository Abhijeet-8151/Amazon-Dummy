<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:http="http://www.mulesoft.org/schema/mule/http" xmlns="http://www.mulesoft.org/schema/mule/core"
	xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/http http://www.mulesoft.org/schema/mule/http/current/mule-http.xsd">
	<flow name="payment-apiFlow" doc:id="fbb5d606-81a9-4819-af50-2b74f1bb7d59" >
		<http:listener doc:name="Listener" doc:id="04357847-9b1c-4aec-b22e-531324c24b48" config-ref="HTTP_Listener_config" path="/amazon/payment"/>
		<parse-template doc:name="Parse Template" doc:id="dcd7e2de-a7dd-43d2-acf3-eacbe1556fc0" >
			<content >&lt;html&gt;

&lt;meta charset=&quot;UTF-8&quot;&gt;
 &lt;link rel=&quot;stylesheet&quot; href=&quot;https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css&quot;&gt;
  &lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js&quot;&gt;&lt;/script&gt;
  &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js&quot;&gt;&lt;/script&gt;
  &lt;script src=&quot;https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js&quot;&gt;&lt;/script&gt;



	&lt;body&gt;
		&lt;head&gt;
&lt;!-- CSS --&gt;
&lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css&quot; integrity=&quot;sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2&quot; crossorigin=&quot;anonymous&quot;&gt;
&lt;style&gt;
 .dot {
  height: 25px;
  width: 25px;
  background-color: #000;
  display: block;
  border-radius: 50%;
}
#text{
  position: absolute;
  top: 50%;
  left: 50%;
  font-size: 50px;
  color: white;
  transform: translate(-50%,-50%);
  -ms-transform: translate(-50%,-50%);
}
#overlay {
  position: fixed;
  display: none;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0,0,0,0.5);
  z-index: 2;
  cursor: none;
}

&lt;/style&gt;

&lt;/head&gt;

&lt;body&gt;
&lt;div align=&quot;center&quot;&gt; &lt;h1&gt; Payment&lt;/h1&gt; &lt;/div&gt;
&lt;hr/&gt;
&lt;div align=&quot;center&quot; class=&quot;alert alert-primary d-flex justify-content-info mb-2&quot; role=&quot;alert&quot; id=&quot;message-div&quot;&gt;&lt;/div&gt;
&lt;hr/&gt;
&lt;div  class=&quot;d-flex justify-content-center&quot;&gt;
  &lt;div class=&quot;form-row align-items-center&quot;&gt;
    &lt;div class=&quot;col-auto&quot;&gt;
	  &lt;div class=&quot;input-group mb-2&quot;&gt;
		&lt;input type=&quot;text&quot; id=&quot;item&quot; class=&quot;form-control&quot; placeholder=&quot;Enter card number&quot;/&gt;
      &lt;/div&gt;
	&lt;/div&gt;
	&lt;div class=&quot;col-auto&quot;&gt;
	  &lt;div class=&quot;input-group mb-2&quot;&gt;
		&lt;input type=&quot;text&quot; id=&quot;item&quot; class=&quot;form-control&quot; placeholder=&quot;Enter expiration date&quot;/&gt;
      &lt;/div&gt;
	&lt;/div&gt;
	&lt;div class=&quot;col-auto&quot;&gt;
	  &lt;div class=&quot;input-group mb-2&quot;&gt;
		&lt;input type=&quot;text&quot; id=&quot;item&quot; class=&quot;form-control&quot; placeholder=&quot;Enter cvv&quot;/&gt;
      &lt;/div&gt;
	&lt;/div&gt;
	&lt;button onclick=&quot;placeOrder()&quot;  class=&quot;btn btn-primary mb-2&quot; &gt;Place Order&lt;/button&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;br&gt;





&lt;p id=&quot;demo&quot;&gt;&lt;/p&gt;

&lt;script&gt;

var x = document.getElementById(&quot;demo&quot;);

function placeOrder()
{
	x.innerHTML = &quot;Placing order...&quot;;
	var xhr = new XMLHttpRequest();
	 var wvar = localStorage.getItem(&quot;Wish&quot;);
	
	var email = localStorage.getItem(&quot;Email&quot;);
	var qemail = '?email=' + email;
	
	xhr.onload = function () 
	{
		x.innerHTML = xhr.responseText;
	}
	xhr.open('POST', 'http://localhost:8081/amazon/order' + qemail, true);
	
	xhr.setRequestHeader('Content-type', 'application/json');
	
	xhr.send(wvar);
	
	
	
	
	
}

&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;</content>
		</parse-template>
	</flow>
</mule>
